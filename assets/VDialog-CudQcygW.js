import{ao as y,p as h,g as A,n as S,r as B,a0 as T,w as v,Z as x,u as L,y as f,c as m,al as w}from"./index-Bb2wdYTR.js";import{d as F,V as I,u as R,e as p}from"./VOverlay-DT7PagXr.js";import{f as C,H as O}from"./VTextField-_4omd198.js";const M=y("app",{state:()=>({appBarTitle:"Home",confirmationDialog:null}),actions:{setAppBarTitle(e){this.appBarTitle=e},setConfirmationDialog(e){this.confirmationDialog=e}}}),H=h({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...F({origin:"center center",scrollStrategy:"block",transition:{component:I},zIndex:2400})},"VDialog"),U=A()({name:"VDialog",props:H(),emits:{"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,g){let{emit:E,slots:u}=g;const l=S(e,"modelValue"),{scopeId:V}=R(),t=B();function d(a){var r,i;const n=a.relatedTarget,s=a.target;if(n!==s&&((r=t.value)!=null&&r.contentEl)&&((i=t.value)!=null&&i.globalTop)&&![document,t.value.contentEl].includes(s)&&!t.value.contentEl.contains(s)){const o=w(t.value.contentEl);if(!o.length)return;const c=o[0],b=o[o.length-1];n===c?b.focus():c.focus()}}T&&v(()=>l.value&&e.retainFocus,a=>{a?document.addEventListener("focusin",d):document.removeEventListener("focusin",d)},{immediate:!0});function P(){var a;(a=t.value)!=null&&a.contentEl&&!t.value.contentEl.contains(document.activeElement)&&t.value.contentEl.focus({preventScroll:!0})}function D(){E("afterLeave")}return v(l,async a=>{var n;a||(await x(),(n=t.value.activatorEl)==null||n.focus({preventScroll:!0}))}),L(()=>{const a=p.filterProps(e),n=f({"aria-haspopup":"dialog","aria-expanded":String(l.value)},e.activatorProps),s=f({tabindex:-1},e.contentProps);return m(p,f({ref:t,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},a,{modelValue:l.value,"onUpdate:modelValue":r=>l.value=r,"aria-modal":"true",activatorProps:n,contentProps:s,role:"dialog",onAfterEnter:P,onAfterLeave:D},V),{activator:u.activator,default:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return m(C,{root:"VDialog"},{default:()=>{var c;return[(c=u.default)==null?void 0:c.call(u,...i)]}})}})}),O({},t)}});export{U as V,M as u};
